<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE flow PUBLIC "liteflow" "liteflow.dtd">
<flow>
    <!-- Deep Research Workflow Chain -->
    <chain name="deepResearchChain">
        THEN(
            clarifyAgent,
            IF(clarifyRouter, THEN(
                researchBriefAgent,
                supervisorChain,
                reportAgent
            )),
            response
        )
    </chain>

    <chain name="supervisorChain">
        THEN(
            supervisorPromptBuildNode,
            supervisorAgent,
            WHILE(supervisorToolNode).DO(
                supervisorAgent
            )
        )
    </chain>

    <chain name="researchChain">
        THEN(
            researcherPromptBuildNode,
            researcherAgent,
            WHILE(researcherToolNode).DO(
                researcherAgent
            ),
            researchCompressAgent
        )
    </chain>

    <chain name="webSummaryAgent">
        THEN(webSummaryAgent)
    </chain>
</flow>